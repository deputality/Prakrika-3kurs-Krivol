function pafeAddressAutocompleteInitMap(){document.querySelectorAll("[data-pafe-form-builder-address-autocomplete]").forEach(function(t,e,a){var n=t,o=new google.maps.places.Autocomplete(t),l=JSON.parse(t.getAttribute("data-pafe-form-builder-address-autocomplete-country")),r=t.getAttribute("data-pafe-form-builder-google-maps-lat"),s=t.getAttribute("data-pafe-form-builder-google-maps-lng"),d=t.getAttribute("data-pafe-form-builder-google-maps-zoom");!0===l.includes("All")?o.setComponentRestrictions({country:[]}):o.setComponentRestrictions({country:l});var i,c,u,m,l=t.closest(".elementor-element").querySelectorAll("[data-pafe-form-builder-address-autocomplete-map]");0<l.length&&(s={lat:parseFloat(r),lng:parseFloat(s)},d=parseInt(d),i=new google.maps.Map(l[0],{center:s,zoom:d}),c=new google.maps.InfoWindow,u=t.closest(".elementor-element").querySelectorAll(".infowindow-content")[0],c.setContent(u),m=new google.maps.Marker({map:i,anchorPoint:new google.maps.Point(0,-29)}),o.addListener("place_changed",function(){c.close(),m.setVisible(!1);var e,t=o.getPlace();t.geometry?(t.geometry.viewport?i.fitBounds(t.geometry.viewport):(i.setCenter(t.geometry.location),i.setZoom(17)),m.setPosition(t.geometry.location),m.setVisible(!0),e="",t.address_components&&(e=[t.address_components[0]&&t.address_components[0].short_name||"",t.address_components[1]&&t.address_components[1].short_name||"",t.address_components[2]&&t.address_components[2].short_name||""].join(" ")),u.children["place-icon"].src=t.icon,u.children["place-name"].textContent=t.name,u.children["place-address"].textContent=e,c.open(i,m)):window.alert("No details available for input: '"+t.name+"'")})),o.addListener("place_changed",function(){var e=o.getPlace();t.setAttribute("data-pafe-form-builder-google-maps-lat",e.geometry.location.lat()),t.setAttribute("data-pafe-form-builder-google-maps-lng",e.geometry.location.lng()),t.setAttribute("data-pafe-form-builder-google-maps-formatted-address",e.formatted_address),t.setAttribute("data-pafe-form-builder-google-maps-zoom","17"),document.querySelectorAll("[data-pafe-form-builder-calculated-fields-distance-calculation]").forEach(function(e,t,a){var o,l,r;o=null!==e.getAttribute("data-pafe-form-builder-calculated-fields-distance-calculation-from")?e.getAttribute("data-pafe-form-builder-calculated-fields-distance-calculation-from"):document.getElementById(e.getAttribute("data-pafe-form-builder-calculated-fields-distance-calculation-from-field-shortcode").replace('[field id="',"form-field-").replace('"]',"")).getAttribute("data-pafe-form-builder-google-maps-formatted-address"),l=null!==e.getAttribute("data-pafe-form-builder-calculated-fields-distance-calculation-to")?e.getAttribute("data-pafe-form-builder-calculated-fields-distance-calculation-to"):($destination=document.getElementById(e.getAttribute("data-pafe-form-builder-calculated-fields-distance-calculation-to-field-shortcode").replace('[field id="',"form-field-").replace('"]',"")),$destination.getAttribute("data-pafe-form-builder-google-maps-formatted-address")),""!=o&&""!=l&&(r=e.getAttribute("data-pafe-form-builder-calculated-fields-distance-calculation-unit"),calculateDistance(o,l,e.closest(".pafe-field-container").querySelector(".pafe-calculated-fields-form__value"),r,e)),jQuery(n).on("input",function(){""===jQuery(this).val()&&(jQuery(e).val(0),e.closest(".pafe-field-container").querySelector(".pafe-calculated-fields-form__value").innerHTML="0",jQuery(e).change())})}),null!=jQuery(t).attr("data-pafe-form-builder-address-autocomplete")&&jQuery(t).change()})})}function calculateDistance(e,t,o,l,r){""!=e&&""!=t&&(new google.maps.DistanceMatrixService).getDistanceMatrix({origins:[e],destinations:[t],travelMode:google.maps.TravelMode.DRIVING,unitSystem:google.maps.UnitSystem.IMPERIAL,avoidHighways:!1,avoidTolls:!1},function(e,t){var a;t!=google.maps.DistanceMatrixStatus.OK||(e.originAddresses[0],e.destinationAddresses[0],"ZERO_RESULTS"===e.rows[0].elements[0].status||(a=e.rows[0].elements[0].distance,t=e.rows[0].elements[0].duration,e=a.value/1e3,a=a.value/1609.34,t.text,t.value,new Event("change"),"km"==l?(o.innerHTML=e.toFixed(2),r.value=e.toFixed(2)):(o.innerHTML=a.toFixed(2),r.value=a.toFixed(2)),jQuery(r).change()))})}function callback(e,t){if(t!=google.maps.DistanceMatrixStatus.OK)console.log(err);else{var a=e.originAddresses[0],o=e.destinationAddresses[0];if("ZERO_RESULTS"!==e.rows[0].elements[0].status){var l=e.rows[0].elements[0].distance,t=e.rows[0].elements[0].duration;console.log(e.rows[0].elements[0].distance);e=l.value/1e3,l=l.value/1609.34,t.text,t.value;return console.log(l.toFixed(2)+"miles"),e.toFixed(2)}console.log("Better get on a plane. There are no roads between "+a+" and "+o)}}jQuery(document).ready(function(e){e(document).on("elementor/popup/show",function(){pafeAddressAutocompleteInitMap()})});